本文题解基于以下原题整理，题意经本人重新表述，解题思路与代码均为原创或转载，仅用于个人学习与交流，完整题目请务必查阅官方原题链接：[122. 买卖股票的最佳时机 II - 力扣（LeetCode）](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/?envType=problem-list-v2&envId=greedy)

>标签：贪心  |  数组  |  动态规划

# 一、题目描述

## **问题概括**

你获得了一个表示股票每日价格的整数数组 `prices`。你可以进行任意次数的交易（即多次买入和卖出），但在任何时刻，你**最多只能持有单股**股票。一个重要的交易规则是：你可以在**同一天**完成卖出和买入操作（例如，卖出持有的股票后，立即在同一价格日买入）。

你的目标是设计一个买卖策略，计算通过一系列操作可以获得的**最大总利润**。

## **示例说明**

- **示例1**：价格序列为 `[7,1,5,3,6,4]`。一种最大化利润的策略是：在第2天（价格1）买入，第3天（价格5）卖出，获利4；随后在第4天（价格3）买入，第5天（价格6）卖出，获利3。总利润为 `4 + 3 = 7`。
- **示例2**：价格序列为 `[1,2,3,4,5]`。尽管价格持续上涨，但由于持仓限制，无法在低位一次性囤货。最优策略是每天滚动交易（或简单地第1天买入，第5天卖出），总利润为 `5 - 1 = 4`。
- **示例3**：价格序列为 `[7,6,4,3,1]`，价格持续下跌，任何买入都会导致亏损。因此不进行任何交易是最优选择，最大利润为 `0`。

## **数据范围**

- 价格数组的长度在 `1` 到 `3 * 10^4` 之间。
- 每日价格在 `0` 到 `10^4` 之间。



# 二、解题思路\解题过程

这道题是一道关于贪心思想的题目，我们其实没必要去思考具体哪一天去买入卖出，我们可以先买入，然后后一天卖出，然后计算得到的利润，这样计算出来的利润肯定有正有负，我们只将正数的利润加起来即可，这样每天的正利润——即是局部最优，然后在将每一次的正利润加起来——即可得到最终（也是最大）的利润！
代码如下：

```java
class Solution {
    public int maxProfit(int[] prices) {
        int total = 0, n = prices.length;
        for(int i = 1; i < n; i++){
            total += prices[i] - prices[i - 1] > 0 ? prices[i] - prices[i - 1] : 0;
        }
        return total;
    }
}
```



# 三、代码演示

## Java代码

```java
class Solution {
    public int maxProfit(int[] prices) {
        int total = 0, n = prices.length;
        for(int i = 1; i < n; i++){
            total += prices[i] - prices[i - 1] > 0 ? prices[i] - prices[i - 1] : 0;
        }
        return total;
    }
}
```



## Python代码

```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        total, prices_len =0, len(prices)
        for i in range(1, prices_len, 1):
            total += prices[i] - prices[i - 1] if prices[i] - prices[i - 1] > 0 else 0
        return total
```



## C++代码

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int total = 0, n = size(prices);
        for(int i = 1; i < n; i++){
            total += prices[i] - prices[i - 1] > 0 ? prices[i] - prices[i - 1] : 0;
        }
        return total;
    }
};
```

![122_买卖股票的最佳时机 II_C++](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/10_%E8%B4%AA%E5%BF%83%E4%B8%8E%E6%80%9D%E7%BB%B4/Images/122_%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%20II_C++.png)
