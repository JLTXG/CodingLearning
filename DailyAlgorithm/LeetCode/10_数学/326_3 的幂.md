[326. 3 的幂 - 力扣（LeetCode）](https://leetcode.cn/problems/power-of-three/description/?envType=study-plan-v2&envId=primers-list)

>标签：递归  |  数学

# 一、题目描述

给定一个整数，写一个函数来判断它是否是 3 的幂次方。如果是，返回 `true` ；否则，返回 `false` 。

整数 `n` 是 3 的幂次方需满足：存在整数 `x` 使得 `n == 3x`

 

**示例 1：**

```
输入：n = 27
输出：true
```

**示例 2：**

```
输入：n = 0
输出：false
```

**示例 3：**

```
输入：n = 9
输出：true
```

**示例 4：**

```
输入：n = 45
输出：false
```

 

**提示：**

- `-231 <= n <= 231 - 1`

 

**进阶：**你能不使用循环或者递归来完成本题吗？



# 二、解题思路\解题过程

这也是一道简单的数学题目，这里提供两种解题思路：
#### 第一种：模拟（暴力求解）

根据题意一步步模拟，只需要保证代码中更新的数据在不超过对应的数值范围即可，具体代码如下所示：
```cpp
class Solution {
public:
    bool isPowerOfThree(int n) {
        if ( n == 1) {
            return true;
        }
        long flag = 1;
        for (int i = 1; i <= 31; i++) {
            flag *= 3;
            if (flag == n) {
                return true;
            } else if (flag > n) {
                return false;
            }
        }
        return false;
    }
};
```

#### 第二种：位运算

这里用位运算比较取巧，首先，题目已经给了`n`的数据范围`-2的31次方 到 2的31次方-1`（闭区间），那么在这里区间中，3的最大次方是19次方——即等于1162261467，所以，只要是大于0的数且能够与1162261467相`mod`等于`0`，那么就可以知道这个数是3的幂次方，代码如下：
```java
class Solution {
    public boolean isPowerOfThree(int n) {
        return n > 0 && 1162261467 % n == 0;
    }
}
```



# 三、代码演示

## Java代码

```Java
// 模拟（暴力求解）
class Solution {
    public boolean isPowerOfThree(int n) {
        if ( n == 1) {
            return true;
        }
        long flag = 1;
        for (int i = 1; i <= 31; i++) {
            flag *= 3;
            if (flag == n) {
                return true;
            } else if (flag > n) {
                return false;
            }
        }
        return false;
    }
}

// 位运算
class Solution {
    public boolean isPowerOfThree(int n) {
        return n > 0 && 1162261467 % n == 0;
    }
}
```



## Python代码

```Python
# 模拟（暴力求解）
class Solution:
    def isPowerOfThree(self, n: int) -> bool:
        if n == 1 :
            return True
        flag = 1
        for i in range(1, 32):
            flag *= 3
            if flag == n :
                return True
            elif flag > n :
                return False
        return False

# 位运算
class Solution:
    def isPowerOfThree(self, n: int) -> bool:
        return n > 0 and 1162261467 % n == 0
```



## C++代码

```C++
// 模拟（暴力求解）
class Solution {
public:
    bool isPowerOfThree(int n) {
        if ( n == 1) {
            return true;
        }
        long flag = 1;
        for (int i = 1; i <= 31; i++) {
            flag *= 3;
            if (flag == n) {
                return true;
            } else if (flag > n) {
                return false;
            }
        }
        return false;
    }
};

// 位运算
class Solution {
public:
    bool isPowerOfThree(int n) {
        return n > 0 && 1162261467 % n == 0;
    }
};
```

![326_3 的幂_C++](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/10_%E6%95%B0%E5%AD%A6/Images/326_3%20%E7%9A%84%E5%B9%82_C++.png)