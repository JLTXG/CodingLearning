æœ¬æ–‡é¢˜è§£åŸºäºä»¥ä¸‹åŸé¢˜æ•´ç†ï¼Œé¢˜æ„ç»æœ¬äººé‡æ–°è¡¨è¿°ï¼Œè§£é¢˜æ€è·¯ä¸ä»£ç å‡ä¸ºåŸåˆ›æˆ–è½¬è½½ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ä¸äº¤æµï¼Œå®Œæ•´é¢˜ç›®è¯·åŠ¡å¿…æŸ¥é˜…å®˜æ–¹åŸé¢˜é“¾æ¥ï¼š[53. æœ€å¤§å­æ•°ç»„å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/maximum-subarray/description/?envType=study-plan-v2&envId=top-100-liked)

>æ ‡ç­¾ï¼šæ•°ç»„  |  åˆ†æ²»  |  åŠ¨æ€è§„åˆ’

# ä¸€ã€é¢˜ç›®æè¿°

## **é—®é¢˜æ¦‚æ‹¬**

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­**è¿ç»­å­æ•°ç»„**ï¼ˆè‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰çš„æœ€å¤§å¯èƒ½å’Œï¼Œå¹¶è¿”å›è¿™ä¸ªå’Œã€‚

## **ç¤ºä¾‹è¯´æ˜**

- **ç¤ºä¾‹1**ï¼šè¾“å…¥ `nums = [-2,1,-3,4,-1,2,1,-5,4]`ï¼Œæœ€å¤§å’Œè¿ç»­å­æ•°ç»„ä¸º `[4,-1,2,1]`ï¼Œå’Œä¸º 6ã€‚
- **ç¤ºä¾‹2**ï¼šè¾“å…¥ `nums = [1]`ï¼Œæœ€å¤§å’Œä¸º 1ã€‚
- **ç¤ºä¾‹3**ï¼šè¾“å…¥ `nums = [5,4,-1,7,8]`ï¼Œæœ€å¤§å’Œä¸º 23ã€‚

## **æ•°æ®èŒƒå›´**

- `1 <= nums.length <= 10^5`
- `-10^4 <= nums[i] <= 10^4`

## **è¿›é˜¶**

å¦‚æœä½ å·²ç»å®ç°äº† O(n) çš„è§£æ³•ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨åˆ†æ²»æ³•æ¥è§£å†³ã€‚



# äºŒã€è§£é¢˜æ€è·¯\è§£é¢˜è¿‡ç¨‹

## âœ… é¢˜ç›®è¦æ±‚

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰**æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„**ï¼ˆè‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶**æœ€å¤§å’Œ**ã€‚

> ç¤ºä¾‹ï¼š  
> `nums = [-2,1,-3,4,-1,2,1,-5,4]` â†’ æœ€å¤§å­æ•°ç»„ä¸º `[4,-1,2,1]`ï¼Œå’Œä¸º `6`

---

## ğŸ§  è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰

### ğŸ”‘ æ ¸å¿ƒæ€æƒ³

> **ä»¥å½“å‰ä½ç½®ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ** åªæœ‰ä¸¤ç§å¯èƒ½ï¼š
>
> 1. å‰é¢çš„å­æ•°ç»„â€œæ‹–åè…¿â€ï¼ˆå’Œä¸ºè´Ÿï¼‰ï¼Œä¸å¦‚ä»å½“å‰å…ƒç´ é‡æ–°å¼€å§‹ï¼›
> 2. å‰é¢çš„å­æ•°ç»„â€œæœ‰å¸®åŠ©â€ï¼ˆå’Œä¸ºæ­£ï¼‰ï¼Œå°±æŠŠå®ƒåŠ ä¸Šã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å®šä¹‰çŠ¶æ€ï¼š

- `dp[i]` è¡¨ç¤º **ä»¥ `nums[i]` ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ**

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```python
dp[i] = max(dp[i - 1] + nums[i], nums[i])
```

åˆå§‹æ¡ä»¶ï¼š

```python
dp[0] = nums[0]
```

æœ€ç»ˆç­”æ¡ˆï¼š

```python
max(dp[0], dp[1], ..., dp[n-1])
```

---

## ğŸ’¡ ä»£ç å±•ç¤º

```python
class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)
        dp = [0] * n
        result = dp[0] = nums[0]          # åˆå§‹åŒ–
        for i in range(1, n):
            dp[i] = max(dp[i - 1] + nums[i], nums[i])  # çŠ¶æ€è½¬ç§»
            result = max(result, dp[i])   # å®æ—¶æ›´æ–°å…¨å±€æœ€å¤§å€¼
        return result
```

âœ… **ä¼˜ç‚¹**ï¼š

- é€»è¾‘æ¸…æ™°ï¼Œç¬¦åˆ DP æ¨¡æ¿ï¼›
- æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œç©ºé—´å¤æ‚åº¦ O(n)ï¼›
- è¾¹ç•Œå¤„ç†æ­£ç¡®ï¼ˆå•å…ƒç´ æ•°ç»„ä¹Ÿèƒ½é€šè¿‡ï¼‰ã€‚

---

## ğŸš€ ä¼˜åŒ–ï¼šç©ºé—´å‹ç¼©ï¼ˆæ»šåŠ¨å˜é‡ï¼‰

ç”±äº `dp[i]` åªä¾èµ– `dp[i-1]`ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå˜é‡ä»£æ›¿æ•´ä¸ªæ•°ç»„ï¼š

```python
class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        current = result = nums[0]
        for i in range(1, len(nums)):
            current = max(current + nums[i], nums[i])
            result = max(result, current)
        return result
```

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1) â† æ›´ä¼˜ï¼

> â­ è¿™æ˜¯é¢è¯•ä¸­æ¨èå†™å‡ºçš„ç‰ˆæœ¬ï¼

---

## ğŸ“Œ å…³é”®æ€»ç»“ï¼ˆç¬”è®°é‡ç‚¹ï¼‰

| é¡¹ç›®         | å†…å®¹                                      |
| ------------ | ----------------------------------------- |
| **é—®é¢˜ç±»å‹** | æœ€å¤§è¿ç»­å­æ•°ç»„å’Œï¼ˆç»å…¸ DPï¼‰               |
| **çŠ¶æ€å®šä¹‰** | `dp[i]` = ä»¥ `nums[i]` ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ |
| **çŠ¶æ€è½¬ç§»** | `dp[i] = max(dp[i-1] + nums[i], nums[i])` |
| **åˆå§‹å€¼**   | `dp[0] = nums[0]`                         |
| **ç­”æ¡ˆ**     | æ‰€æœ‰ `dp[i]` ä¸­çš„æœ€å¤§å€¼                   |
| **ç©ºé—´ä¼˜åŒ–** | ç”¨å•ä¸ªå˜é‡ `current` æ›¿ä»£ `dp` æ•°ç»„       |
| **æ€æƒ³æœ¬è´¨** | â€œ**å¦‚æœå‰é¢çš„å’Œæ˜¯è´Ÿçš„ï¼Œå°±æŠ›å¼ƒå®ƒ**â€        |

---

## âœ… ä¸€å¥è¯è®°ä½

> **â€œç´¯åŠ åˆ°å½“å‰ï¼Œè‹¥å˜å°äº†å°±ä»å¤´æ¥è¿‡ã€‚â€**

---

# ä¸‰ã€ä»£ç æ¼”ç¤º

## Javaä»£ç 

```Java
class Solution {
    public int maxSubArray(int[] nums) {
        int n = nums.length;
        int[] dp = new int[n];
        dp[0] = nums[0];
        int result = nums[0];
        for (int i = 1; i < n; i++) {
            dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]);
            result = Math.max(dp[i], result);
        }
        return result;
    }
}
```



## Pythonä»£ç 

```Python
class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)
        dp = [0] * n
        result = dp[0] = nums[0]
        for i in range(1, n):
            dp[i] = max(dp[i - 1] + nums[i], nums[i])
            result = max(result, dp[i])
        return result
```



## C++ä»£ç 

```C++
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int n = nums.size();
        vector<int> dp(n);
        dp[0] = nums[0];
        int result = nums[0];
        for (int i = 1; i < n; i++) {
            dp[i] = max(dp[i - 1] + nums[i], nums[i]);
            result = max(result, dp[i]);
        }
        return result;
    }
};
```

