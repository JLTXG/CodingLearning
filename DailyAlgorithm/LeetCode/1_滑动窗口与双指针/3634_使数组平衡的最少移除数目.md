æœ¬æ–‡é¢˜è§£åŸºäºä»¥ä¸‹åŸé¢˜æ•´ç†ï¼Œé¢˜æ„ç»æœ¬äººé‡æ–°è¡¨è¿°ï¼Œè§£é¢˜æ€è·¯ä¸ä»£ç å‡ä¸ºåŸåˆ›æˆ–è½¬è½½ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ä¸äº¤æµï¼Œå®Œæ•´é¢˜ç›®è¯·åŠ¡å¿…æŸ¥é˜…å®˜æ–¹åŸé¢˜é“¾æ¥ï¼š[3634. ä½¿æ•°ç»„å¹³è¡¡çš„æœ€å°‘ç§»é™¤æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/minimum-removals-to-balance-array/description/?envType=daily-question&envId=2026-02-06)

>æ ‡ç­¾ï¼šé«˜çº§å·¥ç¨‹å¸ˆ  |  æ•°ç»„  |  æ’åº  |  æ»‘åŠ¨çª—å£

# ä¸€ã€é¢˜ç›®æè¿°

## é—®é¢˜é‡è¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `k`ã€‚å®šä¹‰ï¼šå¦‚æœä¸€ä¸ªéç©ºæ•°ç»„ä¸­æœ€å¤§å…ƒç´ ä¸è¶…è¿‡æœ€å°å…ƒç´ çš„ `k` å€ï¼ˆå³ maxâ¡â‰¤minâ¡Ã—kmaxâ‰¤minÃ—*k*ï¼‰ï¼Œåˆ™è¯¥æ•°ç»„æ˜¯â€œå¹³è¡¡â€çš„ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥ä» `nums` ä¸­åˆ é™¤ä»»æ„å¤šä¸ªå…ƒç´ ï¼ˆä½†ä¸èƒ½å…¨éƒ¨åˆ é™¤ï¼Œå³å‰©ä½™æ•°ç»„å¿…é¡»éç©ºï¼‰ï¼Œç›®æ ‡æ˜¯ä½¿å¾—å‰©ä¸‹çš„æ•°ç»„å¹³è¡¡ã€‚è¯·è®¡ç®—éœ€è¦åˆ é™¤çš„æœ€å°‘å…ƒç´ ä¸ªæ•°ã€‚

**æ³¨æ„**ï¼šåªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„æ€»æ˜¯å¹³è¡¡çš„ã€‚

## ç¤ºä¾‹è¯´æ˜

- è¾“å…¥ï¼š`nums = [2,1,5]`, `k = 2`ã€‚åˆ é™¤å…ƒç´  `5` åå¾—åˆ° `[2,1]`ï¼Œæ­¤æ—¶æœ€å¤§å€¼ä¸º2ï¼Œæœ€å°å€¼ä¸º1ï¼Œæ»¡è¶³ 2â‰¤1Ã—22â‰¤1Ã—2ï¼Œå› æ­¤æœ€å°‘åˆ é™¤ä¸ªæ•°ä¸º1ã€‚
- è¾“å…¥ï¼š`nums = [1,6,2,9]`, `k = 3`ã€‚åˆ é™¤ `1` å’Œ `9` åå¾—åˆ° `[6,2]`ï¼Œæ»¡è¶³ 6â‰¤2Ã—36â‰¤2Ã—3ï¼Œæœ€å°‘åˆ é™¤ä¸ªæ•°ä¸º2ã€‚
- è¾“å…¥ï¼š`nums = [4,6]`, `k = 2`ã€‚å·²ç»æ»¡è¶³ 6â‰¤4Ã—26â‰¤4Ã—2ï¼Œä¸éœ€è¦åˆ é™¤ï¼Œç»“æœä¸º0ã€‚

## æ•°æ®èŒƒå›´

- æ•°ç»„é•¿åº¦ `n` æ»¡è¶³ `1 â‰¤ n â‰¤ 10^5`ã€‚
- æ•°ç»„å…ƒç´ æ»¡è¶³ `1â‰¤ nums[i] â‰¤ 10^9`ã€‚
- `1 â‰¤ k â‰¤ 10^5`ã€‚



# äºŒã€è§£é¢˜æ€è·¯\è§£é¢˜è¿‡ç¨‹

## ğŸ§© é¢˜ç›®ç†è§£ï¼ˆç®€åŒ–ç‰ˆï¼‰

**é¢˜ç›®å¤§æ„**ï¼š  
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `k`ã€‚  
ä½ éœ€è¦**ç§»é™¤æœ€å°‘æ•°é‡çš„å…ƒç´ **ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°ç»„æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

> å¯¹äºå‰©ä¸‹çš„ä»»æ„ä¸¤ä¸ªå…ƒç´  `a` å’Œ `b`ï¼ˆå‡è®¾ `a â‰¤ b`ï¼‰ï¼Œéƒ½æœ‰ `a * k â‰¥ b`ã€‚

æ¢å¥è¯è¯´ï¼š**æœ€å¤§å€¼ â‰¤ æœ€å°å€¼ Ã— k**ã€‚

è¿™ç­‰ä»·äºï¼šå‰©ä¸‹çš„å­æ•°ç»„ä¸­ï¼Œ**æœ€å¤§å€¼ä¸è¶…è¿‡æœ€å°å€¼çš„ k å€**ã€‚

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š**ä¿ç•™å°½å¯èƒ½å¤šçš„å…ƒç´ **ï¼ˆè¿™æ ·ç§»é™¤çš„å°±æœ€å°‘ï¼‰ã€‚

---

## âœ… ç¤ºä¾‹è¯´æ˜

æ¯”å¦‚ï¼š

```python
nums = [1, 3, 5, 7], k = 2
```

- å¦‚æœä¿ç•™ `[1, 3]`ï¼š1Ã—2=2 < 3 âŒ ä¸åˆæ³•
- å¦‚æœä¿ç•™ `[3, 5]`ï¼š3Ã—2=6 â‰¥ 5 âœ… åˆæ³•
- å¦‚æœä¿ç•™ `[5, 7]`ï¼š5Ã—2=10 â‰¥ 7 âœ… åˆæ³•
- æœ€é•¿åˆæ³•å­åºåˆ—é•¿åº¦æ˜¯ 2 â†’ æ‰€ä»¥æœ€å°‘ç§»é™¤ 4 - 2 = 2 ä¸ª

ä½†æ³¨æ„ï¼š**ä¸è¦æ±‚è¿ç»­**ï¼ä¸è¿‡å› ä¸ºæˆ‘ä»¬å¯ä»¥æ’åºï¼Œæ‰€ä»¥æœ€ä¼˜è§£ä¸€å®šå‡ºç°åœ¨**æ’åºåçš„ä¸€ä¸ªè¿ç»­å­æ•°ç»„**ä¸­ï¼ˆåé¢è§£é‡Šä¸ºä»€ä¹ˆï¼‰ã€‚

---

## ğŸ” ä¸ºä»€ä¹ˆå¯ä»¥æ’åºï¼Ÿ

å…³é”®è§‚å¯Ÿï¼š

- æ¡ä»¶åªå…³å¿ƒ **æœ€å°å€¼å’Œæœ€å¤§å€¼**ï¼ˆå› ä¸ºåªè¦ min * k â‰¥ maxï¼Œä¸­é—´æ‰€æœ‰æ•°è‡ªç„¶æ»¡è¶³ï¼Œå› ä¸ºå®ƒä»¬ä»‹äº min å’Œ max ä¹‹é—´ï¼‰ã€‚
- æ‰€ä»¥æˆ‘ä»¬åªå…³å¿ƒé€‰å“ªäº›æ•°ï¼Œä¸å…³å¿ƒé¡ºåºã€‚
- å› æ­¤ï¼Œ**å…ˆæ’åºä¸ä¼šå½±å“ç­”æ¡ˆ**ï¼Œåè€Œè®©é—®é¢˜å˜æˆâ€œæ‰¾æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾— nums[left] * k â‰¥ nums[right]â€ã€‚

> æ’åºåï¼Œä»»ä½•åˆæ³•å­é›†éƒ½å¯ä»¥é‡æ’æˆä¸€ä¸ªè¿ç»­åŒºé—´ï¼Œä¸”ä¸ä¼šå˜å·®ã€‚æ‰€ä»¥è´ªå¿ƒåœ°æ‰¾æœ€é•¿è¿ç»­åˆæ³•çª—å£å³å¯ã€‚

---

## ğŸ“ å¸¦è¯¦ç»†æ³¨é‡Šçš„ä»£ç 

```python
class Solution:
    def minRemoval(self, nums: List[int], k: int) -> int:
        # ç¬¬ä¸€æ­¥ï¼šæ’åºæ•°ç»„ï¼Œä¾¿äºä½¿ç”¨æ»‘åŠ¨çª—å£
        nums.sort()
        
        n = len(nums)          # æ•°ç»„æ€»é•¿åº¦
        left = 0               # æ»‘åŠ¨çª—å£å·¦è¾¹ç•Œ
        max_length = 0         # è®°å½•æ»¡è¶³æ¡ä»¶çš„æœ€é•¿å­æ•°ç»„é•¿åº¦
        
        # å³æŒ‡é’ˆ i éå†æ•´ä¸ªæ•°ç»„ï¼ˆä½œä¸ºçª—å£å³ç«¯ç‚¹ï¼‰
        for i in range(n):
            # å½“å‰çª—å£ [left, i] ä¸æ»¡è¶³æ¡ä»¶ï¼šnums[left] * k < nums[i]
            # è¯´æ˜å·¦ç«¯ç‚¹å¤ªå°ï¼Œéœ€è¦å³ç§» leftï¼Œç›´åˆ°æ»¡è¶³ nums[left] * k >= nums[i]
            while nums[left] * k < nums[i]:
                left += 1
            
            # æ­¤æ—¶ [left, i] æ˜¯åˆæ³•çª—å£ï¼Œæ›´æ–°æœ€é•¿é•¿åº¦
            max_length = max(max_length, i - left + 1)
        
        # æœ€å°‘ç§»é™¤æ•° = æ€»æ•° - æœ€å¤šèƒ½ä¿ç•™çš„åˆæ³•å…ƒç´ ä¸ªæ•°
        return n - max_length
```

---

## ğŸ’¡ æ ¸å¿ƒè§£é¢˜æ€æƒ³

### 1. **é—®é¢˜è½¬åŒ–**

- åŸé—®é¢˜ï¼šç§»é™¤æœ€å°‘å…ƒç´ ï¼Œä½¿ä»»æ„ä¸¤æ•°æ»¡è¶³ `min * k â‰¥ max`
- ç­‰ä»·äºï¼š**ä¿ç•™æœ€å¤šå…ƒç´ ï¼Œä½¿å¾— max â‰¤ min * k**

### 2. **æ’åºçš„åˆç†æ€§**

- å› ä¸ºæ¡ä»¶åªä¾èµ–æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä¸é¡ºåºæ— å…³
- æ’åºåï¼Œåˆæ³•å­é›†ä¸€å®šå¯ä»¥è¡¨ç¤ºä¸º**è¿ç»­å­æ•°ç»„**ï¼ˆå¦åˆ™å¯ä»¥æŠŠç©ºç¼ºå¡«ä¸Šè€Œä¸ç ´åæ¡ä»¶ï¼‰

### 3. **æ»‘åŠ¨çª—å£ï¼ˆåŒæŒ‡é’ˆï¼‰**

- ç»´æŠ¤ä¸€ä¸ªçª—å£ `[left, right]`ï¼Œä¿è¯ `nums[left] * k >= nums[right]`
- è‹¥ä¸æ»¡è¶³ï¼Œç§»åŠ¨ `left` ç›´åˆ°æ»¡è¶³
- è®°å½•è¿‡ç¨‹ä¸­çª—å£çš„æœ€å¤§é•¿åº¦

### 4. **æ—¶é—´å¤æ‚åº¦**

- æ’åºï¼šO(n log n)
- æ»‘åŠ¨çª—å£ï¼šO(n)ï¼ˆæ¯ä¸ªå…ƒç´ æœ€å¤šè¿›/å‡ºä¸€æ¬¡ï¼‰
- æ€»ä½“ï¼š**O(n log n)**ï¼Œé«˜æ•ˆï¼

---

## ğŸ“Œ æ€»ç»“ä¸€å¥è¯ï¼ˆé€‚åˆè®°åœ¨ç¬”è®°æœ¬ä¸Šï¼‰

> **â€œæ’åº + æ»‘åŠ¨çª—å£â€æ‰¾æœ€é•¿å­æ•°ç»„ï¼Œä½¿å¾—æœ€å¤§å€¼ â‰¤ æœ€å°å€¼ Ã— kï¼Œç­”æ¡ˆ = n - æœ€é•¿é•¿åº¦ã€‚**

---

# ä¸‰ã€ä»£ç æ¼”ç¤º

## Javaä»£ç 

```Java
class Solution {
    public int minRemoval(int[] nums, int k) {
        Arrays.sort(nums);
        int n = nums.length, maxlength = 0, left = 0;
        for (int i = 0; i < n; i++) {
            while ((long) nums[left] * k < nums[i]) {
                left++;
            }
            maxlength = Math.max(maxlength, i - left + 1);
        }
        return n - maxlength;
    }
}
```



## Pythonä»£ç 

```Python
class Solution:
    def minRemoval(self, nums: List[int], k: int) -> int:
        nums.sort()
        n, left, max_length = len(nums), 0, 0
        for i in range(n):
            while nums[left] * k < nums[i]:
                left += 1
            max_length = max(max_length, i - left + 1)
        return n - max_length
```

![3634_ä½¿æ•°ç»„å¹³è¡¡çš„æœ€å°‘ç§»é™¤æ•°ç›®_Python](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/1_%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E4%B8%8E%E5%8F%8C%E6%8C%87%E9%92%88/Images/3634_%E4%BD%BF%E6%95%B0%E7%BB%84%E5%B9%B3%E8%A1%A1%E7%9A%84%E6%9C%80%E5%B0%91%E7%A7%BB%E9%99%A4%E6%95%B0%E7%9B%AE_Python.png)

## C++ä»£ç 

```C++
class Solution {
public:
    int minRemoval(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), left = 0, maxLength = 0;
        for (int i = 0; i < n; i++) {
            while (1LL * nums[left] * k < nums[i]) {
                left++;
            }
            maxLength = max(maxLength, i - left + 1);
        }
        return n - maxLength;
    }
};
```

