æœ¬æ–‡é¢˜è§£åŸºäºä»¥ä¸‹åŸé¢˜æ•´ç†ï¼Œé¢˜æ„ç»æœ¬äººé‡æ–°è¡¨è¿°ï¼Œè§£é¢˜æ€è·¯ä¸ä»£ç å‡ä¸ºåŸåˆ›æˆ–è½¬è½½ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ä¸äº¤æµï¼Œå®Œæ•´é¢˜ç›®è¯·åŠ¡å¿…æŸ¥é˜…å®˜æ–¹åŸé¢˜é“¾æ¥ï¼š[852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼• - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/peak-index-in-a-mountain-array/description/)

>æ ‡ç­¾ï¼šæ•°ç»„  |  äºŒåˆ†æŸ¥æ‰¾

# ä¸€ã€é¢˜ç›®æè¿°

## **é—®é¢˜æ¦‚æ‹¬**

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr`ï¼Œå®ƒè¢«ç§°ä¸ºâ€œå±±è„‰æ•°ç»„â€ï¼Œå› ä¸ºå…¶å…ƒç´ å€¼å…ˆä¸¥æ ¼é€’å¢ï¼Œè¾¾åˆ°ä¸€ä¸ªå”¯ä¸€çš„å³°å€¼åï¼Œå†ä¸¥æ ¼é€’å‡ã€‚æ¢å¥è¯è¯´ï¼Œæ•°ç»„ä¸­å­˜åœ¨ä¸€ä¸ªç´¢å¼• `i`ï¼ˆ`0 < i < arr.length-1`ï¼‰ï¼Œä½¿å¾—ï¼š

- å¯¹äºæ‰€æœ‰ `j < i`ï¼Œæœ‰ `arr[j] < arr[j+1]`ï¼ˆé€’å¢æ®µï¼‰ï¼›
- å¯¹äºæ‰€æœ‰ `j >= i`ï¼Œæœ‰ `arr[j] > arr[j+1]`ï¼ˆé€’å‡æ®µï¼Œç›´åˆ°æœ«å°¾ï¼‰ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ `arr` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å±±è„‰æ•°ç»„ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°è¿™ä¸ªå³°å€¼å…ƒç´ ï¼ˆå³æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼‰çš„ä¸‹æ ‡ã€‚ä½ è®¾è®¡çš„ç®—æ³•å¿…é¡»åœ¨ `O(log n)` çš„æ—¶é—´å¤æ‚åº¦å†…å®Œæˆã€‚

## **ç¤ºä¾‹è¯´æ˜**

- **ç¤ºä¾‹1**ï¼š`arr = [0,1,0]`ï¼Œå³°å€¼å…ƒç´ ä¸º `1`ï¼Œå…¶ä¸‹æ ‡æ˜¯ `1`ã€‚
- **ç¤ºä¾‹2**ï¼š`arr = [0,2,1,0]`ï¼Œå³°å€¼å…ƒç´ ä¸º `2`ï¼Œå…¶ä¸‹æ ‡æ˜¯ `1`ã€‚
- **ç¤ºä¾‹3**ï¼š`arr = [0,10,5,2]`ï¼Œå³°å€¼å…ƒç´ ä¸º `10`ï¼Œå…¶ä¸‹æ ‡æ˜¯ `1`ã€‚

## **æ•°æ®èŒƒå›´**

- æ•°ç»„é•¿åº¦ `n` æ»¡è¶³ `3 <= n <= 10^5`ã€‚
- æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å€¼åœ¨ `0` åˆ° `10^6` ä¹‹é—´ã€‚
- è¾“å…¥ä¿è¯æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å±±è„‰æ•°ç»„ï¼ˆå³è‡³å°‘æœ‰ä¸€ä¸ªå³°å€¼ï¼Œä¸”ä¸¥æ ¼å…ˆå¢åå‡ï¼‰ã€‚



# äºŒã€è§£é¢˜æ€è·¯\è§£é¢˜è¿‡ç¨‹

## ç¬¬ä¸€ç§ï¼šæš´åŠ›æ±‚è§£
è¿™è™½ç„¶æ˜¯ä¸€é“ä¸­ç­‰éš¾åº¦çš„é¢˜ç›®ï¼Œä½†æ˜¯ï¼Œè¯´å®è¯ï¼Œé€šè¿‡ACçš„éš¾åº¦å’Œç®€å•çš„é¢˜ç›®ä¸€æ ·â€”â€”å°±æ˜¯æŒ‰ç…§é¢˜æ„è¿›è¡Œæ¨¡æ‹Ÿå¾ªç¯ï¼Œç„¶åæ›´æ–°ä¸‹æ ‡å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š
```cpp
class Solution {
public:
    int peakIndexInMountainArray(vector<int>& arr) {
        int result = arr[0], n = arr.size(), flag = 0;
        for(int i = 1; i < n; i++){
            if(arr[i] > result){
                result = arr[i];
                flag = i;
            }
        }
        return flag;
    }
};
```

## ç¬¬äºŒç§ï¼šäºŒåˆ†æŸ¥æ‰¾
ä½†æ˜¯ï¼Œé¢˜ç›®æœ‰ä¸€ä¸ªå†™æ˜äº†çš„è¦æ±‚æ¡ä»¶â€”â€”è¦æ±‚**è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log(n))` çš„è§£å†³æ–¹æ¡ˆ**ï¼Œå¦‚ä¸‹ï¼š
ï¼ˆè¿™éƒ¨åˆ†äºŒåˆ†æ€æƒ³å†™çš„ä»£ç å’Œä»¥å¾€çš„å¸¸è§„äºŒåˆ†ä»£ç æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œåç»­å¯ä»¥è¿›ä¸€æ­¥å‚è¯¦ï¼ï¼‰
ğŸ§  æ ¸å¿ƒæ€æƒ³ï¼š**äºŒåˆ†æŸ¥æ‰¾ + åŒºé—´æ”¶ç¼©**
âœ… å…³é”®è§‚å¯Ÿ

- åœ¨å³°é¡¶**å·¦ä¾§**ï¼ˆåŒ…æ‹¬ä¸Šå‡æ®µï¼‰ï¼š`arr[i] < arr[i+1]` â†’ è¿˜åœ¨â€œä¸Šå¡â€
- åœ¨å³°é¡¶**å³ä¾§**ï¼ˆåŒ…æ‹¬ä¸‹é™æ®µï¼‰ï¼š`arr[i] > arr[i+1]` â†’ å·²ç»â€œä¸‹å¡â€
- **å³°é¡¶æ˜¯æœ€åä¸€ä¸ªæ»¡è¶³ `arr[i] < arr[i+1]` çš„ä½ç½®çš„ä¸‹ä¸€ä¸ª**

> æ¢å¥è¯è¯´ï¼šæˆ‘ä»¬è¦æ‰¾**ç¬¬ä¸€ä¸ªæ»¡è¶³ `arr[i] > arr[i+1]` çš„ä½ç½® `i`** â€”â€” è¿™å°±æ˜¯å³°é¡¶ï¼

âœ… ä¸ºä»€ä¹ˆäºŒåˆ†åœ¨è¿™é‡Œå¯è¡Œï¼Ÿ

å…³é”®åœ¨äº**å±±è„‰æ•°ç»„çš„å•è°ƒæ€§**ï¼š
- å·¦åŠéƒ¨åˆ†ï¼š**ä¸¥æ ¼é€’å¢**
- å³åŠéƒ¨åˆ†ï¼š**ä¸¥æ ¼é€’å‡**
- æ•´ä½“å…·æœ‰**å•å³°æ€§ï¼ˆunimodalï¼‰**

è¿™ç§ç»“æ„å…è®¸æˆ‘ä»¬é€šè¿‡**æ¯”è¾ƒ `arr[mid]` å’Œ `arr[mid+1]`** æ¥åˆ¤æ–­å½“å‰å¤„äºâ€œä¸Šå¡â€è¿˜æ˜¯â€œä¸‹å¡â€ï¼Œä»è€Œå†³å®šæœç´¢æ–¹å‘â€”â€”è¿™æ­£æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„æ ¸å¿ƒå‰æã€‚

> ğŸ” **äºŒåˆ†æŸ¥æ‰¾çš„æœ¬è´¨**ï¼š  
> åœ¨**æœ‰åºæˆ–å…·æœ‰å•è°ƒæ€§è´¨**çš„æ•°æ®ä¸­ï¼Œé€šè¿‡æ¯æ¬¡æ’é™¤ä¸€åŠä¸å¯èƒ½åŒºåŸŸï¼Œå®ç° O(log n) æŸ¥æ‰¾ã€‚

ä»£ç å¦‚ä¸‹ï¼š
```java
class Solution {
    public int peakIndexInMountainArray(int[] arr) {
        int left = 0, right = arr.length - 1;
        while(left < right){
            int mid = left + (right - left + 1) / 2;
            if(arr[mid] > arr[mid - 1]){
                left = mid;
            } else {
                right = mid - 1;
            }
        }
        return left;
    }
}
```



# ä¸‰ã€ä»£ç æ¼”ç¤º

## Javaä»£ç 

```Java
// æš´åŠ›æ±‚è§£
class Solution {
    public int peakIndexInMountainArray(int[] arr) {
        int result = arr[0], n = arr.length, flag = 0;
        for(int i = 1; i < n; i++){
            if(arr[i] > result){
                result = arr[i];
                flag = i;
            }
        }
        return flag;
    }
}

// äºŒåˆ†æŸ¥æ‰¾
class Solution {
    public int peakIndexInMountainArray(int[] arr) {
        int left = 0, right = arr.length - 1;
        while(left < right){
            int mid = left + (right - left + 1) / 2;
            if(arr[mid] > arr[mid - 1]){
                left = mid;
            } else {
                right = mid - 1;
            }
        }
        return left;
    }
}
```



## Pythonä»£ç 

```Python
# æš´åŠ›æ±‚è§£
class Solution:
    def peakIndexInMountainArray(self, arr: List[int]) -> int:
        result, flag, n = arr[0], 0, len(arr)
        for i in range(1, n):
            if arr[i] > result :
                result = arr[i]
                flag = i
        return flag
    
# äºŒåˆ†æŸ¥æ‰¾
class Solution:
    def peakIndexInMountainArray(self, arr: List[int]) -> int:
        left, rigth = 0, len(arr) - 1
        while left < rigth :
            mid = left + (rigth - left + 1) // 2
            if arr[mid] > arr[mid - 1] :
                left = mid
            else :
                rigth = mid - 1
        return left
```



## C++ä»£ç 

```C++
// æš´åŠ›æ±‚è§£
class Solution {
public:
    int peakIndexInMountainArray(vector<int>& arr) {
        int result = arr[0], n = arr.size(), flag = 0;
        for(int i = 1; i < n; i++){
            if(arr[i] > result){
                result = arr[i];
                flag = i;
            }
        }
        return flag;
    }
};

// äºŒåˆ†æŸ¥æ‰¾
class Solution {
public:
    int peakIndexInMountainArray(vector<int>& arr) {
        int left = 0, right = arr.size() - 1;
        while(left < right){
            int mid = left + (right - left + 1) / 2;
            if(arr[mid] > arr[mid - 1]){
                left = mid;
            } else {
                right = mid - 1;
            }
        }
        return left;
    }
};
```

![852_å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•_C++](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/2_%E4%BA%8C%E5%88%86%E7%AE%97%E6%B3%95/Images/852_%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84%E7%9A%84%E5%B3%B0%E9%A1%B6%E7%B4%A2%E5%BC%95_C++.png)