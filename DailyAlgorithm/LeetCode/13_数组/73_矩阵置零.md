æœ¬æ–‡é¢˜è§£åŸºäºä»¥ä¸‹åŸé¢˜æ•´ç†ï¼Œé¢˜æ„ç»æœ¬äººé‡æ–°è¡¨è¿°ï¼Œè§£é¢˜æ€è·¯ä¸ä»£ç å‡ä¸ºåŸåˆ›æˆ–è½¬è½½ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ä¸äº¤æµï¼Œå®Œæ•´é¢˜ç›®è¯·åŠ¡å¿…æŸ¥é˜…å®˜æ–¹åŸé¢˜é“¾æ¥ï¼š[73. çŸ©é˜µç½®é›¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/set-matrix-zeroes/description/?envType=study-plan-v2&envId=top-100-liked)

>æ ‡ç­¾ï¼šæ•°ç»„  |  å“ˆå¸Œè¡¨  |  çŸ©é˜µ

# ä¸€ã€é¢˜ç›®æè¿°

## **é—®é¢˜æ¦‚æ‹¬**

ç»™å®šä¸€ä¸ª m è¡Œ n åˆ—çš„æ•´æ•°çŸ©é˜µï¼Œå¦‚æœçŸ©é˜µä¸­çš„æŸä¸ªå…ƒç´ ä¸º 0ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½ç½®ä¸º 0ã€‚è¦æ±‚ç›´æ¥ä¿®æ”¹åŸçŸ©é˜µï¼ˆå³ä½¿ç”¨åŸåœ°ç®—æ³•ï¼‰ï¼Œå¹¶ä¸”å°½é‡ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

## **ç¤ºä¾‹è¯´æ˜**

- **ç¤ºä¾‹1**ï¼šè¾“å…¥çŸ©é˜µ `[[1,1,1],[1,0,1],[1,1,1]]`ï¼Œè¾“å‡º `[[1,0,1],[0,0,0],[1,0,1]]`ã€‚
- **ç¤ºä¾‹2**ï¼šè¾“å…¥çŸ©é˜µ `[[0,1,2,0],[3,4,5,2],[1,3,1,5]]`ï¼Œè¾“å‡º `[[0,0,0,0],[0,4,5,0],[0,3,1,0]]`ã€‚

## **æ•°æ®èŒƒå›´**

- `m == matrix.length`
- `n == matrix[0].length`
- `1 <= m, n <= 200`
- `-2^31 <= matrix[i][j] <= 2^31 - 1`

## **è¿›é˜¶è¦æ±‚**

å°è¯•è®¾è®¡ä»…ä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´çš„ç®—æ³•ã€‚



# äºŒã€è§£é¢˜æ€è·¯\è§£é¢˜è¿‡ç¨‹

## ğŸ“ åŸå§‹ä»£ç  + è¯¦ç»†æ³¨é‡Š

```java
class Solution {
    public void setZeroes(int[][] matrix) {
        int m = matrix.length;          // è¡Œæ•°
        int n = matrix[0].length;       // åˆ—æ•°

        // åˆ›å»ºä¸¤ä¸ªå¸ƒå°”æ•°ç»„ï¼Œè®°å½•å“ªäº›è¡Œ/åˆ—éœ€è¦è¢«ç½®é›¶
        boolean[] mMatrix = new boolean[m]; // mMatrix[i] = true è¡¨ç¤ºç¬¬ i è¡Œè¦å…¨å˜ 0
        boolean[] nMatrix = new boolean[n]; // nMatrix[j] = true è¡¨ç¤ºç¬¬ j åˆ—è¦å…¨å˜ 0

        // ç¬¬ä¸€æ¬¡éå†ï¼šæ‰«ææ•´ä¸ªçŸ©é˜µï¼Œè®°å½•æ‰€æœ‰ 0 çš„ä½ç½®
        for (int i = 0; i < m; i++) {
            for ( int j = 0; j < n; j++) {
                if (matrix[i][j] == 0) {
                    mMatrix[i] = true;  // æ ‡è®°ç¬¬ i è¡Œ
                    nMatrix[j] = true;  // æ ‡è®°ç¬¬ j åˆ—
                }
            }
        }

        // ç¬¬äºŒæ¬¡éå†ï¼šæ ¹æ®æ ‡è®°ï¼Œå°†å¯¹åº”è¡Œ/åˆ—çš„æ‰€æœ‰å…ƒç´ ç½®ä¸º 0
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (mMatrix[i] || nMatrix[j]) {
                    matrix[i][j] = 0;
                }
            }
        }
    }
}
```

> âœ… **ä¼˜ç‚¹**ï¼šé€»è¾‘æ¸…æ™°ã€æ˜“äºç†è§£  
> âŒ **ç¼ºç‚¹**ï¼šä½¿ç”¨äº† O(m + n) é¢å¤–ç©ºé—´ï¼Œè€Œé¢˜ç›®è¿›é˜¶è¦æ±‚æ˜¯ **O(1) ç©ºé—´**

---

## âš¡ ä¼˜åŒ–ä»£ç ï¼ˆæ»¡è¶³ O(1) ç©ºé—´è¦æ±‚ï¼‰

æˆ‘ä»¬å¯ä»¥**å¤ç”¨çŸ©é˜µçš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—**ä½œä¸ºæ ‡è®°æ•°ç»„ï¼Œä»è€Œé¿å…é¢å¤–ç©ºé—´ã€‚

ä½†è¦æ³¨æ„ï¼š**ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—æœ¬èº«æ˜¯å¦éœ€è¦ç½®é›¶**ï¼Œéœ€è¦ç”¨ä¸¤ä¸ªå˜é‡å•ç‹¬è®°å½•ã€‚

```java
class Solution {
    public void setZeroes(int[][] matrix) {
        int m = matrix.length;
        int n = matrix[0].length;

        // ç”¨ä¸¤ä¸ªå˜é‡è®°å½•ç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—æ˜¯å¦åŸæœ¬å°±æœ‰ 0
        boolean firstRowHasZero = false;
        boolean firstColHasZero = false;

        // æ£€æŸ¥ç¬¬ä¸€è¡Œæ˜¯å¦æœ‰ 0
        for (int j = 0; j < n; j++) {
            if (matrix[0][j] == 0) {
                firstRowHasZero = true;
                break;
            }
        }

        // æ£€æŸ¥ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰ 0
        for (int i = 0; i < m; i++) {
            if (matrix[i][0] == 0) {
                firstColHasZero = true;
                break;
            }
        }

        // éå†é™¤ç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—å¤–çš„åŒºåŸŸï¼Œç”¨ç¬¬ä¸€è¡Œ/åˆ—åšæ ‡è®°
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][j] == 0) {
                    matrix[i][0] = 0; // æ ‡è®°ç¬¬ i è¡Œ
                    matrix[0][j] = 0; // æ ‡è®°ç¬¬ j åˆ—
                }
            }
        }

        // æ ¹æ®ç¬¬ä¸€è¡Œ/åˆ—çš„æ ‡è®°ï¼Œç½®é›¶å†…éƒ¨åŒºåŸŸ
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][0] == 0 || matrix[0][j] == 0) {
                    matrix[i][j] = 0;
                }
            }
        }

        // æœ€åå¤„ç†ç¬¬ä¸€è¡Œ
        if (firstRowHasZero) {
            for (int j = 0; j < n; j++) {
                matrix[0][j] = 0;
            }
        }

        // æœ€åå¤„ç†ç¬¬ä¸€åˆ—
        if (firstColHasZero) {
            for (int i = 0; i < m; i++) {
                matrix[i][0] = 0;
            }
        }
    }
}
```

> âœ… **ç©ºé—´å¤æ‚åº¦ï¼šO(1)**ï¼ˆåªç”¨äº†å‡ ä¸ªå¸ƒå°”å˜é‡ï¼‰  
> âœ… **æ—¶é—´å¤æ‚åº¦ï¼šO(m Ã— n)**ï¼ˆä¸¤æ¬¡å®Œæ•´éå†ï¼‰

---

## ğŸ“š å­¦ä¹ ç¬”è®°æ€»ç»“

### ğŸ”‘ é¢˜ç›®è¦æ±‚

> ç»™å®šä¸€ä¸ª `m x n` çš„çŸ©é˜µï¼Œå¦‚æœæŸä¸ªå…ƒç´ ä¸º 0ï¼Œåˆ™å°†å…¶**æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ **éƒ½è®¾ä¸º 0ã€‚  
> **è¿›é˜¶è¦æ±‚**ï¼šä½¿ç”¨**å¸¸æ•°é¢å¤–ç©ºé—´**ï¼ˆO(1)ï¼‰ã€‚

---

### ğŸ’¡ è§£é¢˜æ€è·¯å¯¹æ¯”

| æ–¹æ³•           | ç©ºé—´å¤æ‚åº¦ | æ€è·¯                                             | æ˜¯å¦æ»¡è¶³è¿›é˜¶ |
| -------------- | ---------- | ------------------------------------------------ | ------------ |
| **æ ‡è®°æ•°ç»„æ³•** | O(m + n)   | ç”¨ä¸¤ä¸ªå¸ƒå°”æ•°ç»„è®°å½•éœ€ç½®é›¶çš„è¡Œ/åˆ—                  | âŒ            |
| **åŸåœ°æ ‡è®°æ³•** | **O(1)**   | å¤ç”¨çŸ©é˜µç¬¬ä¸€è¡Œ/åˆ—ä¸ºæ ‡è®°ï¼Œç”¨ä¸¤ä¸ªå˜é‡ä¿æŠ¤é¦–è¡Œ/é¦–åˆ— | âœ…            |

---

### âš™ï¸ åŸåœ°æ ‡è®°æ³•å…³é”®æ­¥éª¤

1. **ä¿æŠ¤é¦–è¡Œ/é¦–åˆ—**
    - å…ˆæ£€æŸ¥ç¬¬ä¸€è¡Œã€ç¬¬ä¸€åˆ—æ˜¯å¦**åŸæœ¬å°±æœ‰ 0**ï¼Œç”¨ `firstRowHasZero` å’Œ `firstColHasZero` è®°å½•ã€‚
2. **å†…éƒ¨åŒºåŸŸæ‰“æ ‡è®°**
    - éå† `matrix[1..m-1][1..n-1]`ï¼Œè‹¥ `matrix[i][j] == 0`ï¼Œåˆ™ï¼š
        - `matrix[i][0] = 0` â†’ æ ‡è®°ç¬¬ i è¡Œ
        - `matrix[0][j] = 0` â†’ æ ‡è®°ç¬¬ j åˆ—
3. **æ ¹æ®æ ‡è®°ç½®é›¶å†…éƒ¨åŒºåŸŸ**
4. **æœ€åå¤„ç†é¦–è¡Œ/é¦–åˆ—**ï¼ˆæ ¹æ®ä¹‹å‰ä¿å­˜çš„å¸ƒå°”å€¼ï¼‰

> âš ï¸ **ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨é¦–è¡Œ/åˆ—åšæ ‡è®°ï¼Ÿ**  
> å› ä¸ºå¦‚æœå…ˆä¿®æ”¹äº† `matrix[0][j]`ï¼Œä¼šå½±å“åç»­å¯¹ç¬¬ j åˆ—çš„åˆ¤æ–­ã€‚æ‰€ä»¥å¿…é¡»**å…ˆæ‰«æå†…éƒ¨ï¼Œå†å¤„ç†è¾¹ç•Œ**ã€‚

---

### ğŸ§ª ä¸¾ä¾‹è¯´æ˜

è¾“å…¥ï¼š

```
[
  [1, 1, 1],
  [1, 0, 1],
  [1, 1, 1]
]
```

è¿‡ç¨‹ï¼š

1. é¦–è¡Œ/é¦–åˆ—æ—  0 â†’ `firstRowHasZero = false`, `firstColHasZero = false`
2. æ‰«æåˆ° `matrix[1][1] = 0` â†’ è®¾ç½® `matrix[1][0] = 0`, `matrix[0][1] = 0`
3. æ ¹æ®æ ‡è®°ç½®é›¶å†…éƒ¨ï¼š`matrix[1][1]` å·²ä¸º 0ï¼Œå…¶ä»–å¦‚ `matrix[2][1]` ä¹Ÿè¢«ç½® 0
4. é¦–è¡Œ/é¦–åˆ—æ— éœ€å¤„ç†

è¾“å‡ºï¼š

```
[
  [1, 0, 1],
  [0, 0, 0],
  [1, 0, 1]
]
```

---

### â±ï¸ å¤æ‚åº¦åˆ†æ

| æ–¹æ³•     | æ—¶é—´  | ç©ºé—´       |
| -------- | ----- | ---------- |
| æ ‡è®°æ•°ç»„ | O(mn) | O(m + n)   |
| åŸåœ°æ ‡è®° | O(mn) | **O(1)** âœ… |

---

### â— æ˜“é”™ç‚¹æé†’

- **ä¸èƒ½åœ¨æ‰“æ ‡è®°çš„åŒæ—¶ç½®é›¶**ï¼Œå¦åˆ™ä¼šæ±¡æŸ“åç»­åˆ¤æ–­ã€‚
- **å¿…é¡»æœ€åå¤„ç†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—**ï¼Œå¦åˆ™å®ƒä»¬çš„ 0 ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯â€œæ ‡è®°â€ã€‚
- **ä¸¤ä¸ªå¸ƒå°”å˜é‡å¿…ä¸å¯å°‘**ï¼Œå¦åˆ™æ— æ³•åŒºåˆ†â€œåŸå§‹ 0â€å’Œâ€œæ ‡è®° 0â€ã€‚

---

### ğŸ’¬ é¢è¯•è¯æœ¯å»ºè®®

> â€œæˆ‘é¦–å…ˆæƒ³åˆ°ç”¨ä¸¤ä¸ªæ•°ç»„è®°å½•è¡Œåˆ—ï¼Œä½†ä¸ºäº†æ»¡è¶³ O(1) ç©ºé—´ï¼Œæˆ‘å¤ç”¨äº†çŸ©é˜µçš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½œä¸ºæ ‡è®°ã€‚ä¸ºäº†é¿å…è¦†ç›–åŸå§‹æ•°æ®ï¼Œæˆ‘ç”¨ä¸¤ä¸ªå˜é‡æå‰ä¿å­˜äº†é¦–è¡Œ/é¦–åˆ—æ˜¯å¦éœ€è¦ç½®é›¶ï¼Œæœ€åå†ç»Ÿä¸€å¤„ç†ã€‚â€

---

# ä¸‰ã€ä»£ç æ¼”ç¤º

## Javaä»£ç 

```Java
// åŸä»£ç 
class Solution {
    public void setZeroes(int[][] matrix) {
        int m = matrix.length, n = matrix[0].length;
        boolean[] mMatrix = new boolean[m];
        boolean[] nMatrix = new boolean[n];
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (matrix[i][j] == 0) {
                    mMatrix[i] = true;
                    nMatrix[j] = true;
                }
            }
        }
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (mMatrix[i] || nMatrix[j]) {
                    matrix[i][j] = 0;
                }
            }
        }
    }
}

// ä¼˜åŒ–ä»£ç 
class Solution {
    public void setZeroes(int[][] matrix) {
        int m = matrix.length;
        int n = matrix[0].length;

        // ç”¨ä¸¤ä¸ªå˜é‡è®°å½•ç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—æ˜¯å¦åŸæœ¬å°±æœ‰ 0
        boolean firstRowHasZero = false;
        boolean firstColHasZero = false;

        // æ£€æŸ¥ç¬¬ä¸€è¡Œæ˜¯å¦æœ‰ 0
        for (int j = 0; j < n; j++) {
            if (matrix[0][j] == 0) {
                firstRowHasZero = true;
                break;
            }
        }

        // æ£€æŸ¥ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰ 0
        for (int i = 0; i < m; i++) {
            if (matrix[i][0] == 0) {
                firstColHasZero = true;
                break;
            }
        }

        // éå†é™¤ç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—å¤–çš„åŒºåŸŸï¼Œç”¨ç¬¬ä¸€è¡Œ/åˆ—åšæ ‡è®°
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][j] == 0) {
                    matrix[i][0] = 0; // æ ‡è®°ç¬¬ i è¡Œ
                    matrix[0][j] = 0; // æ ‡è®°ç¬¬ j åˆ—
                }
            }
        }

        // æ ¹æ®ç¬¬ä¸€è¡Œ/åˆ—çš„æ ‡è®°ï¼Œç½®é›¶å†…éƒ¨åŒºåŸŸ
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][0] == 0 || matrix[0][j] == 0) {
                    matrix[i][j] = 0;
                }
            }
        }

        // æœ€åå¤„ç†ç¬¬ä¸€è¡Œ
        if (firstRowHasZero) {
            for (int j = 0; j < n; j++) {
                matrix[0][j] = 0;
            }
        }

        // æœ€åå¤„ç†ç¬¬ä¸€åˆ—
        if (firstColHasZero) {
            for (int i = 0; i < m; i++) {
                matrix[i][0] = 0;
            }
        }
    }
}
```

![73_çŸ©é˜µç½®é›¶_Java](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/13_%E6%95%B0%E7%BB%84/Images/73_%E7%9F%A9%E9%98%B5%E7%BD%AE%E9%9B%B6_Java.png)

## Pythonä»£ç 

```Python
class Solution:
    def setZeroes(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        m, n = len(matrix), len(matrix[0])
        m_matrix, n_matrix = [0] * m, [0] * n
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    m_matrix[i] = 1
                    n_matrix[j] = 1
        for i in range(m):
            for j in range(n):
                if m_matrix[i] == 1 or n_matrix[j] == 1:
                    matrix[i][j] = 0
```



## C++ä»£ç 

```C++
class Solution {
public:
    void setZeroes(vector<vector<int>>& matrix) {
        int m = matrix.size(), n = matrix[0].size();
        vector<bool> mMatrix(m);
        vector<bool> nMatrix(n);
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (matrix[i][j] == 0) {
                    mMatrix[i] = true;
                    nMatrix[j] = true;
                }
            }
        }
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (mMatrix[i] || nMatrix[j]) {
                    matrix[i][j] = 0;
                }
            }
        }
    }
};
```

