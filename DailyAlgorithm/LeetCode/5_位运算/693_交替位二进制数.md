æœ¬æ–‡é¢˜è§£åŸºäºä»¥ä¸‹åŸé¢˜æ•´ç†ï¼Œé¢˜æ„ç»æœ¬äººé‡æ–°è¡¨è¿°ï¼Œè§£é¢˜æ€è·¯ä¸ä»£ç å‡ä¸ºåŸåˆ›æˆ–è½¬è½½ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ä¸äº¤æµï¼Œå®Œæ•´é¢˜ç›®è¯·åŠ¡å¿…æŸ¥é˜…å®˜æ–¹åŸé¢˜é“¾æ¥ï¼š[693. äº¤æ›¿ä½äºŒè¿›åˆ¶æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/binary-number-with-alternating-bits/description/?envType=daily-question&envId=2026-02-18)

>æ ‡ç­¾ï¼šä½è¿ç®—

# ä¸€ã€é¢˜ç›®æè¿°

## **é—®é¢˜æ¦‚æ‹¬**

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `n`ï¼Œåˆ¤æ–­å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œç›¸é‚»çš„ä¸¤ä½æ•°å­—æ˜¯å¦éƒ½ä¸ç›¸åŒï¼ˆå³äºŒè¿›åˆ¶ä½äº¤æ›¿å‡ºç°ï¼Œå¦‚ `101` æˆ– `010` ç­‰ï¼‰ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`ã€‚

## **ç¤ºä¾‹è¯´æ˜**

- `n = 5`ï¼ŒäºŒè¿›åˆ¶ `101`ï¼Œç›¸é‚»ä½å‡ä¸åŒï¼Œè¿”å› `true`ã€‚
- `n = 7`ï¼ŒäºŒè¿›åˆ¶ `111`ï¼Œç›¸é‚»ä½æœ‰ç›¸åŒï¼Œè¿”å› `false`ã€‚
- `n = 11`ï¼ŒäºŒè¿›åˆ¶ `1011`ï¼Œæœ€åä¸¤ä½ `11` ç›¸åŒï¼Œè¿”å› `false`ã€‚

## **æ•°æ®èŒƒå›´**

- `1 <= n <= 2^31 - 1`



# äºŒã€è§£é¢˜æ€è·¯\è§£é¢˜è¿‡ç¨‹

## âœ… å¸¦è¯¦ç»†æ³¨é‡Šçš„ä»£ç 

```cpp
class Solution {
public:
    bool hasAlternatingBits(int n) {
        // pre è®°å½•ä¸Šä¸€ä½çš„äºŒè¿›åˆ¶å€¼ï¼Œåˆå§‹åŒ–ä¸º 2ï¼ˆä¸€ä¸ªä¸å¯èƒ½çš„äºŒè¿›åˆ¶ä½å€¼ï¼‰
        // ç›®çš„æ˜¯ç¡®ä¿ç¬¬ä¸€æ¬¡æ¯”è¾ƒæ—¶ä¸ä¼šè¯¯åˆ¤ï¼ˆå› ä¸º 2 â‰  0 ä¸” 2 â‰  1ï¼‰
        int pre = 2;

        // ä»æœ€ä½ä½å¼€å§‹ï¼Œé€ä½æ£€æŸ¥äºŒè¿›åˆ¶è¡¨ç¤º
        while (n > 0) {
            // å–å½“å‰æœ€ä½ä½ï¼ˆ0 æˆ– 1ï¼‰
            int cur = n % 2;  // ç­‰ä»·äº n & 1

            // å¦‚æœå½“å‰ä½å’Œä¸Šä¸€ä½ç›¸åŒï¼Œåˆ™ä¸æ»¡è¶³â€œäº¤æ›¿â€æ¡ä»¶
            if (pre == cur) {
                return false;
            }

            // æ›´æ–° pre ä¸ºå½“å‰ä½ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡æ¯”è¾ƒ
            pre = cur;

            // å»æ‰æœ€ä½ä½ï¼Œç›¸å½“äºå³ç§»ä¸€ä½ï¼ˆn /= 2 ç­‰ä»·äº n >>= 1ï¼‰
            n /= 2;
        }

        // æ‰€æœ‰ç›¸é‚»ä½éƒ½ä¸åŒï¼Œæ»¡è¶³äº¤æ›¿æ¡ä»¶
        return true;
    }
};
```

> ğŸ’¡ è¡¥å……è¯´æ˜ï¼š
>
> - `n % 2` è·å–æœ€ä½ä½ï¼ˆ0 æˆ– 1ï¼‰
> - `n /= 2` ç›¸å½“äºæ— ç¬¦å·å³ç§»ï¼ˆå¯¹æ­£æ•´æ•°å®‰å…¨ï¼‰
> - åˆå§‹åŒ– `pre = 2` æ˜¯å·§å¦™çš„â€œå“¨å…µå€¼â€ï¼Œé¿å…é¢å¤–åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€ä½

---

## ğŸ§  æ ¸å¿ƒè§£é¢˜æ€æƒ³åˆ†æ

### ğŸ” é—®é¢˜ç›®æ ‡ï¼š

åˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•° `n` çš„**äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œä»»æ„ä¸¤ä¸ªç›¸é‚»ä½æ˜¯å¦éƒ½ä¸ç›¸åŒ**ï¼ˆå³ 0 å’Œ 1 äº¤æ›¿å‡ºç°ï¼‰ã€‚

> ä¾‹å¦‚ï¼š
>
> - `5 = 101â‚‚` â†’ âœ… äº¤æ›¿
> - `7 = 111â‚‚` â†’ âŒ ä¸äº¤æ›¿
> - `10 = 1010â‚‚` â†’ âœ… äº¤æ›¿
> - `11 = 1011â‚‚` â†’ âŒ æœ€åä¸¤ä½éƒ½æ˜¯ 1

---

### ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼š**é€ä½æå– + ç›¸é‚»ä½æ¯”è¾ƒ**

#### 1. **ä»ä½ä½åˆ°é«˜ä½éå†**

- åˆ©ç”¨ `n % 2` è·å–å½“å‰æœ€ä½ä½ï¼›
- åˆ©ç”¨ `n /= 2` å»æ‰å·²å¤„ç†çš„ä½ï¼›
- é‡å¤ç›´åˆ° `n == 0`ã€‚

#### 2. **è®°å½•å‰ä¸€ä½çŠ¶æ€**

- ç”¨å˜é‡ `pre` ä¿å­˜ä¸Šä¸€æ¬¡çš„äºŒè¿›åˆ¶ä½ï¼›
- æ¯æ¬¡æ–°å–ä¸€ä½ `cur`ï¼Œå°±ä¸ `pre` æ¯”è¾ƒï¼›
- è‹¥ç›¸ç­‰ â†’ ç«‹å³è¿”å› `false`ã€‚

#### 3. **åˆå§‹åŒ–æŠ€å·§ï¼šå“¨å…µå€¼**

- å°† `pre` åˆå§‹åŒ–ä¸º `2`ï¼ˆé 0/1ï¼‰ï¼Œç¡®ä¿**ç¬¬ä¸€ä½ä¸ä¼šè§¦å‘ç›¸ç­‰åˆ¤æ–­**ï¼›
- é¿å…å†™ `if (first bit)` çš„åˆ†æ”¯é€»è¾‘ï¼Œä»£ç æ›´ç®€æ´ã€‚

---

### ğŸ”„ ç¤ºä¾‹æ¼”ç¤º

ä»¥ `n = 10`ï¼ˆäºŒè¿›åˆ¶ `1010`ï¼‰ä¸ºä¾‹ï¼š

| æ­¥éª¤ | nï¼ˆåè¿›åˆ¶ï¼‰ | nï¼ˆäºŒè¿›åˆ¶ï¼‰ | cur = n%2 | pre  | æ˜¯å¦ç›¸ç­‰ï¼Ÿ |
| ---- | ----------- | ----------- | --------- | ---- | ---------- |
| åˆå§‹ | 10          | 1010        | â€”         | 2    | â€”          |
| 1    | 10          | 1010        | 0         | 2    | å¦ â†’ pre=0 |
| 2    | 5           | 101         | 1         | 0    | å¦ â†’ pre=1 |
| 3    | 2           | 10          | 0         | 1    | å¦ â†’ pre=0 |
| 4    | 1           | 1           | 1         | 0    | å¦ â†’ pre=1 |
| 5    | 0           | â€”           | å¾ªç¯ç»“æŸ  |      |            |

âœ… è¿”å› `true`

å†ä»¥ `n = 11`ï¼ˆ`1011`ï¼‰ä¸ºä¾‹ï¼š

- ç¬¬1ä½ï¼š1 â†’ pre=1
- ç¬¬2ä½ï¼š1 â†’ cur=1, pre=1 â†’ ç›¸ç­‰ â†’ âŒ è¿”å› `false`

---

### â±ï¸ å¤æ‚åº¦åˆ†æï¼š

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(log n)  
    â€”â€” äºŒè¿›åˆ¶ä½æ•°çº¦ä¸º `âŒŠlogâ‚‚nâŒ‹ + 1`
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)  
    â€”â€” åªç”¨ä¸¤ä¸ªæ•´å‹å˜é‡

> âœ… å¯¹äº 32 ä½æ•´æ•°ï¼Œæœ€å¤šå¾ªç¯ 32 æ¬¡ï¼Œæ•ˆç‡æé«˜ï¼

---

## ğŸ“š ç¬”è®°æ€»ç»“

### ğŸ§© é—®é¢˜å®šä¹‰ï¼š

åˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œ**ç›¸é‚»ä½æ˜¯å¦ä¸¥æ ¼äº¤æ›¿ï¼ˆ0101... æˆ– 1010...ï¼‰**ã€‚

### ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼š

> **é€ä½æå– + å‰åä½æ¯”è¾ƒ + å“¨å…µå€¼åˆå§‹åŒ–**

### âœ… ç®—æ³•æ­¥éª¤ï¼š

1. åˆå§‹åŒ– `pre = 2`ï¼ˆéæ³•äºŒè¿›åˆ¶å€¼ï¼Œä½œä¸ºå“¨å…µï¼‰ï¼›
2. å½“ `n > 0`ï¼š
    - `cur = n % 2`ï¼ˆå–æœ€ä½ä½ï¼‰
    - è‹¥ `cur == pre` â†’ è¿”å› `false`
    - `pre = cur`
    - `n = n / 2`
3. å¾ªç¯ç»“æŸ â†’ è¿”å› `true`

### ğŸ”‘ å…³é”®æŠ€å·§ï¼š

- **å“¨å…µå€¼ `pre = 2`** é¿å…é¦–ä½ç½®ç‰¹æ®Šå¤„ç†ï¼›
- **`n % 2` å’Œ `n / 2`** ç­‰ä»·äºä½è¿ç®— `n & 1` å’Œ `n >>= 1`ï¼›
- **ä¸€æ—¦å‘ç°ç›¸é‚»ä½ç›¸åŒï¼Œç«‹å³è¿”å›**ï¼Œæ— éœ€ç»§ç»­ã€‚

### â±ï¸ å¤æ‚åº¦ï¼š

- æ—¶é—´ï¼šO(log n)ï¼ˆâ‰ˆ 32 æ¬¡ï¼‰
- ç©ºé—´ï¼šO(1)

### ğŸ’¡ å…¶ä»–è§£æ³•ï¼ˆæ‹“å±•ï¼‰ï¼š

- **ä½è¿ç®—æŠ€å·§**ï¼š
  
    ```cpp
    int x = n ^ (n >> 1);  // åº”å¾—åˆ°å…¨ 1ï¼ˆå¦‚ 111...1ï¼‰
    return (x & (x + 1)) == 0; // å…¨1åŠ 1ä¼šå˜æˆ1000...0ï¼Œä¸åŸæ•°&ä¸º0
    ```
    
    > æ›´é«˜æ•ˆï¼Œä½†ç†è§£é—¨æ§›ç•¥é«˜ã€‚å½“å‰è§£æ³•æ›´ç›´è§‚æ˜“æ‡‚ã€‚
    

---

# ä¸‰ã€ä»£ç æ¼”ç¤º

## Javaä»£ç 

```Java
class Solution {
    public boolean hasAlternatingBits(int n) {
        int pre = 2;
        while (n != 0) {
            int cur = n % 2;
            if (cur == pre) {
                return false;
            }
            pre = cur;
            n /= 2;
        }
        return true;
    }
}
```



## Pythonä»£ç 

```Python
class Solution:
    def hasAlternatingBits(self, n: int) -> bool:
        pre = 2
        while n != 0:
            cur = n % 2
            if pre == cur:
                return False
            pre = cur
            n //= 2
        return True
```



## C++ä»£ç 

```C++
class Solution {
public:
    bool hasAlternatingBits(int n) {
        int pre = 2;
        while (n) {
            int cur = n % 2;
            if (pre == cur) {
                return false;
            }
            pre = cur;
            n /= 2;
        }
        return true;
    }
};
```

![693_äº¤æ›¿ä½äºŒè¿›åˆ¶æ•°_C++](https://gitee.com/lei-weijun/CodingLearning/raw/main/DailyAlgorithm/LeetCode/5_%E4%BD%8D%E8%BF%90%E7%AE%97/Images/693_%E4%BA%A4%E6%9B%BF%E4%BD%8D%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0_C++.png)